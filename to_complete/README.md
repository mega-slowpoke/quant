# quant

- 基于okx api开发，时间节点采用的是okx提供的节点，可能会与tradingview不一致。同时模拟盘数据k线与实盘不一致，不要弄混淆了
- 实体跌破（涨破）统一使用收盘价而非开盘价

### 存在的问题
1. 第一根k线永远不可能是极值点，这一点要不要考虑
2. 如果同时是高点和低点，根据之前的点判断可靠嘛？ 比如如果第一个点就即是高点又是低点，该怎么判断？（没有之前点）。我在代码中默认处理是high
3. 如果我们不考虑当前正在绘制的k线，倒数第二根k线也永远不会被包含在我们的极值点里面。因为我们要比较当前k线与旁边两个k线，对于倒数第二根k线，因为他没有右边，那么我们不知道它是low还是high极值点
    - （比如2025-05-31 17:00 这根K线，如果我们不考虑正在绘制的2025-05-31 21:00，那本应该是一个低点的2025-05-31 17:00就会被忽略）
    - 可选解决办法：对于倒数第二根k线，只比较左边，不比较右边，可能会错误判断极值点，比如认为倒数 第二根k线是low，但是当前k线比倒数第二根还低，倒数第二根这个点就没有被过滤出去
    - 当前实现没有采用可选解决办法，

4. 震荡区间选取低点时，不是采用most recent low（突破的higher_high），逻辑上这个点确实是大量下订单的位置。 但是可能会误判趋势破坏。

比如
low 90 -> high 150 -> low 105 -> high 140 -> low 130 -> high 180

high 180 突破150，如果采用most recent low，110会被判定为higher_low, 180是 higher_high，如果此时出现结构破坏，实体跌破为110，程序会判断出现结构破坏.但是我们应该是判定跌破105才破坏呢还是跌破130就破坏？


5. 对于higher low买点，如果极值点前一根不是阴线怎么办？